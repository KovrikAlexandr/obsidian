## Пример конфигурации

```json
{
  "data-root": "/var/lib/docker",
  "log-driver": "json-file",
  "log-opts": {
    "max-size": "10m",
    "max-file": "3"
  },
  "bip": "172.26.0.1/16",
  "fixed-cidr": "172.26.0.0/24",
  "default-address-pools": [
    {
      "base": "172.30.0.0/16",
      "size": 24
    }
  ],
  "dns": ["8.8.8.8", "1.1.1.1"],
  "mtu": 1450,
  "hosts": [
    "unix:///var/run/docker.sock",
    "tcp://0.0.0.0:2375"
  ],
  "iptables": true,
  "ipv6": false,
  "icc": true
}
```

### Настройки логирования

- `log-driver` – драйвер логов контейнеров по умолчанию (если не используется другой явно). Может быть следующим:
	- `json-file` (default) – пишет логи контейнеров в json формате. Пишет в файл `/var/lib/docker/<id>/<id>-json.log`.
	- `none` – отключить логирование
	Остальные варианты не очень интересны

- `log-opts` – настройки драйвера. Набор параметров разный в зависимости от драйвера. 
	
	Драйвер `json-file` хранит логи в .json файле. Когда размер превышает `max-size`, докер переименовывает этот файл и начинает писать в новый файл. Хранятся только `max-file` последних файлов. Возможно их сжатие.
	- `max-size` – размер одного файла с логами
	- `max-file` – кол-во хранимых файлов с логами
	- `compress` – сжимать старые логи
	```json
	"log-opts": {
	  "max-size": "10m",
	  "max-file": "3",
	  "compress": "true"
	}
	```

### Настройки сети

- `bip` – bridge IP. Задаёт адрес и маску сети для интерфейса `docker0`. 
- `fixed_cidr` – обязательно подмножество `bip`. Ограничивает docker в выделяемыми им адресами.
- `default-address-pools` – адреса создаваемых сетей:
	```json
	"default-address-pools": [
		{
		  "base": "172.30.0.0/16", 
		  "size": 24 
		}
	]
	```
	Создаваемые сети будут иметь адреса:
	- `172.30.1.0/24`
	- `172.30.2.0/24`
	- `172.30.3.0/24`
	. . .
	Могут ли пересекаться с `bip`?
- `dns` – список адресов dns, которые будут помещаться в `/etc/resolv.conf` контейнеров.
- `mtu` – Maximum Transmit Unit
- `iptables` – разрешить ли docker самому настраивать. По умолчанию – true.
- `icc` – разрешить сетевое взаимодействие между контейнерами. По умолчанию – true.
