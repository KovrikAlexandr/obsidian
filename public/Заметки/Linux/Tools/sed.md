Он же stream editor.

Запускается так:
```bash
... | sed 'some script'
```

Читает вход построчно. Для каждой строки:
1. Читает строку в “pattern space”
2. Применяет команды из скрипта
3. Печатает pattern space (если печать не выключена `-n`)
4. Переходит к следующей строке

## Для чего использовать

Утилитой можно решать следующие задачи:

### Выборочная печать строк

Флаг `-n` отключает печать каждой строки. Приписка `p` в скрипте будет печатать строку. Есть несколько вариантов использования:
- По номерам строк:
	```bash
	cat file.txt | sed '5,10p'
	```
	Выведет строки с 5 по 10

- Строку по паттерну `/regex/p`:
	```bash
	cat file.txt | sed -n '/th$/p'
	```

- Строки между двумя строками по паттернам (пример – парсинг сертификата):
```bash
cat out.txt | sed -n '/^-----BEGIN/,/^-----END/p'
```

### Замена подстрок

- Пример:
```bash
cat file.txt | sed 's/fatal/ERROR/gI'
```
- `s` – substitute, тобишь замена
- `g` - globally. Все вхождения, а не только первое
- `I` – Ignore. Игнорировать регистр

По умолчанию в паттерне поиска используется basic regexp. Но можно использовать extended через флаг `-E`

- Замена путей:
	```bash
	sed 's|/usr/bin|/opt/bin|g' file
	```
	Тут используем `|` вместо `/`

### Удаление строк

- По паттерну можно удалить строку:
```bash
sed '/DEBUG/d' log.txt
```

- Либо наоборот – удалить, все, что не содержит паттерн:
	```bash
	sed '/ERROR/!d' log.txt
	```
	Выведет все ошибки

### Редактирование файла

- Файл можно редактировать на месте:
	```bash
	sed -i '/DEBUG/d' log.txt
	```
	Удалит все строки с `DEBUG`

- Eсли ссыкотно, то можно оставить бекап:
	```bash
	sed -i.bak '/DEBUG/d' log.txt
	```